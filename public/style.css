:root {
  --toastique-gold: #cfa54b;
  --toastique-green: #4a7c59;
  --toastique-red-bg: #fbeaea;   /* soft warm red background */
  --toastique-red-text: #a83a32; /* earthy brick red text */
  --toastique-bg: #faf8f3;
  --toastique-gray: #6b7280;
  --toastique-border: #e5e7eb;
  font-family: "Helvetica Neue", Arial, sans-serif;
}

/* Base (mobile-first) */
body {
  margin: 12px;
  background: var(--toastique-bg);
  color: #222;
}

h1 {
  margin-bottom: 6px;
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--toastique-green);
}

.muted {
  color: var(--toastique-gray);
  font-size: 0.9rem;
  font-style: italic;
  margin-top: -2px;
  margin-bottom: 14px;
}

td.muted { white-space: nowrap; }

/* Table card */
table {
  border-collapse: separate;
  border-spacing: 0;
  width: 100%;
  background: #fff;
  border-radius: 12px;
  overflow: hidden; /* keep rounded corners */
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

/* Header */
th {
  text-align: left;
  background: var(--toastique-green);
  color: #fff;
  padding: 12px 10px;
  font-weight: 600;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Sortable headers (no hover; mobile-friendly) */
th[data-sort] {
  touch-action: manipulation;    /* reduce click delay */
}
th[data-sort]:active {
  opacity: 0.9;                  /* press feedback */
}

/* Sort icons */
.sort-icon {
  display: inline-block;
  line-height: 1;
  font-size: 1.05rem;            /* a hair bigger for touch */
  margin-left: 6px;
  opacity: 0.85;
  color: rgba(255,255,255,0.9);  /* neutral hint on green header */
}
th[data-sort] .sort-icon::after {
  content: '↕';                  /* neutral hint for all sortable cols */
}

/* Active column shows a gold arrow */
th[data-sort].active .sort-icon {
  color: var(--toastique-gold);
  opacity: 1;
  font-weight: 700;
}
th[data-sort].active .sort-icon::after {
  content: '▲';                  /* ascending */
}
th[data-sort].active.desc .sort-icon::after {
  content: '▼';                  /* descending */
}

/* Cells */
td {
  padding: 12px 10px;
  border-bottom: 1px solid var(--toastique-border);
}
tr:last-child td {
  border-bottom: none;
}

/* Subtle row highlight on tap/selection */
tr:active {
  background: #fdfcf9;
}

/* Numeric alignment & nowrap date */
th:nth-child(2), td:nth-child(2),  /* PAR (L) */
th:nth-child(3), td:nth-child(3) { /* Current (L) */
  text-align: right;
}
td:nth-child(5) {                   /* Last Updated */
  white-space: nowrap;
}

/* Status chips */
.status {
  font-weight: 600;
  padding: 4px 10px;
  border-radius: 999px;
  display: inline-block;
  font-size: 0.95rem;
}
.status::after {
  content: "";
}
.ok {
  background: #eaf5ee;
  color: var(--toastique-green);
}
.low {
  background: #fdf0e6;
  color: var(--toastique-gold);
}
.out {
  background: var(--toastique-red-bg);
  color: var(--toastique-red-text);
}

/* Actions */
.actions {
  display: flex;
  gap: 8px;
  align-items: center;
}

/* Number input (mobile-friendly) */
input[type="number"] {
  width: 92px;
  padding: 10px 10px;            /* bigger tap target */
  border: 1px solid var(--toastique-border);
  border-radius: 8px;
  font-size: 1rem;
}

/* Hide spinners (iOS/Safari/Chrome) */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
input[type="number"] { appearance: textfield; }

/* Button (mobile-friendly) */
button {
  padding: 10px 14px;            /* larger tap target (≥44px high) */
  border: none;
  border-radius: 8px;
  background: var(--toastique-gold);
  color: #fff;
  font-weight: 700;
  font-size: 1rem;
  cursor: default;               /* no pointer on mobile */
  transition: transform 0.06s ease;
  -webkit-tap-highlight-color: transparent;
}
button:active {
  transform: scale(0.99);        /* press feedback */
}

/* Notification Bubble */
#notify { 
  position: fixed;
  right: 16px;
  bottom: 16px; /* fallback */
  bottom: calc(16px + env(safe-area-inset-bottom));
  padding: 12px 16px;
  border-radius: 10px;
  background: var(--toastique-green);
  color: #fff;
  font-weight: 700;
  display: none;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  z-index: 1000;
}

/* Default: desktop/larger screens */
.name-code { display: none; }
.name-full { display: inline; }
.name-code abbr { text-decoration: none; border-bottom: 0; }

/* Default: show full label, hide short */
.th-current .label-full { display: inline; }
.th-current .label-short { display: none; }
.th-current abbr { text-decoration: none; }

/* Slightly roomier layout on larger screens (your laptop during dev) */
@media (min-width: 768px) {
  body { margin: 24px; }
  h1 { font-size: 1.8rem; }
  .sort-icon { font-size: 0.95rem; }
  input[type="number"] { padding: 8px 10px; }
  button { padding: 8px 12px; }
}

/* Mobile: no horizontal scroll + short header label */
@media (max-width: 560px) {
  /* Predictable widths + no overflow */
  table { table-layout: fixed; max-width: 100%; }

  /* Hide PAR (col 2) and Updated (col 5) */
  table th:nth-child(2),
  table td:nth-child(2),
  table th:nth-child(5),
  table td:nth-child(5) {
    display: none;
  }

  /* Name column: show 3-letter code, hide full name, fix width */
  .name-code {
    display: inline;
    font-weight: 700;
    letter-spacing: 0.3px;
  }
  .name-full { display: none; }
  th:first-child, td:first-child { width: 12%; text-align: center; }

  /* Swap "Current (L)" → "L" */
  .th-current .label-full { display: none; }
  .th-current .label-short { display: inline; }

  /* Only shrink/replace BELOW PAR (i.e., .low) */
  .status.low {
    font-size: 0;              /* hide full "BELOW PAR" text node */
  }
  .status.low::after {
    content: attr(data-short); /* "LOW" from data-short */
    font-size: 14px;
    font-weight: 600;
  }
  .actions { gap: 6px; }
  input[type="number"] { width: 72px; }
  button { padding: 6px 10px; }
  .sort-icon { margin-left: 0px; }
  .sort-icon::after { font-size: .75rem }
  /* Optional: set rough widths for remaining columns to avoid jank */
  th:nth-child(3), td:nth-child(3) { width: 7%; } /* L */
  th:nth-child(4), td:nth-child(4) { width: 15%; } /* Status */
  th:nth-child(6), td:nth-child(6) { width: 28%; } /* Update */
}

/* Ultra-narrow phones */
@media (max-width: 360px) {
  input[type="number"] { width: 64px; }
  .status { font-size: 0.8rem; }
}

@media (hover: hover) { button { cursor: pointer; } }